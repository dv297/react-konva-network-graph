(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(5);var _babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(393),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__),_GraphCoordinator_GraphCoordinator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(40),CustomWorkflowControlsWrapper=function(props){var coordinator=Object(react__WEBPACK_IMPORTED_MODULE_2__.useContext)(_GraphCoordinator_GraphCoordinator__WEBPACK_IMPORTED_MODULE_3__.a),machineState=coordinator.machineState,sendCommand=coordinator.sendCommand;if(!machineState)throw new Error("CustomWorkflowControlsWrapper depends on context provided by GraphCoordinator. Place this component below the GraphCoordinator tree");var mode=function(machineState){var value=machineState.value;return"object"===Object(_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_1__.a)(value)?Object.keys(value)[0]:value}(machineState);return react__WEBPACK_IMPORTED_MODULE_2___default.a.createElement("div",null,props.children({mode:mode,setToAddEdgeMode:function setToAddEdgeMode(){return sendCommand("ADD_EDGE")},setToDeleteEdgeMode:function setToDeleteEdgeMode(){return sendCommand("DELETE_EDGE")},escapeCurrentMode:function escapeCurrentMode(){return sendCommand("ESCAPE")}}))};CustomWorkflowControlsWrapper.displayName="CustomWorkflowControlsWrapper",__webpack_exports__.a=CustomWorkflowControlsWrapper,CustomWorkflowControlsWrapper.__docgenInfo={description:"",methods:[],displayName:"CustomWorkflowControlsWrapper",props:{children:{type:{name:"func"},required:!0,description:'Function that defines a custom UI for controlling the state of the NetworkGraph. This function is passed an object\r\nwith the following properties:\r\n- mode: The current mode that the network graph is in\r\n- setToAddEdgeMode: Function for changing the mode to allow for adding edges\r\n- setToDeleteEdgeMode: Function for changing the mode to allow for deleting edges\r\n- escapeCurrentMode: Function for resetting to the default "view" mode'}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\CustomWorkflowControlsWrapper\\CustomWorkflowControlsWrapper.jsx"]={name:"CustomWorkflowControlsWrapper",docgenInfo:CustomWorkflowControlsWrapper.__docgenInfo,path:"src\\components\\CustomWorkflowControlsWrapper\\CustomWorkflowControlsWrapper.jsx"})},181:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__(4),__webpack_require__(27),__webpack_require__(83),__webpack_require__(120),__webpack_require__(846),__webpack_require__(32),__webpack_require__(123),__webpack_require__(39),__webpack_require__(339),__webpack_require__(47),__webpack_require__(54),__webpack_require__(2),__webpack_require__(44),__webpack_require__(368),__webpack_require__(5),__webpack_require__(125),__webpack_require__(33);var defineProperty=__webpack_require__(185),toConsumableArray=__webpack_require__(186),slicedToArray=__webpack_require__(80),react=__webpack_require__(0),react_default=__webpack_require__.n(react),ReactKonva=__webpack_require__(45),v4=__webpack_require__(390),v4_default=__webpack_require__.n(v4),prop_types=__webpack_require__(16),prop_types_default=__webpack_require__.n(prop_types),GraphCoordinator=__webpack_require__(40),Node=function(props){var nodeGraphData=props.data.nodeGraphData,sendCommand=Object(react.useContext)(GraphCoordinator.a).sendCommand;return react_default.a.createElement(react_default.a.Fragment,null,react_default.a.createElement(ReactKonva.Group,{draggable:!0,name:"node-".concat(nodeGraphData.id),x:nodeGraphData.x,y:nodeGraphData.y,onDragMove:function onDragMove(event){event.currentTarget.moveToTop(),props.onDragMove({id:nodeGraphData.id,x:event.target.x(),y:event.target.y()})},onDragEnd:function onDragEnd(event){props.onDragEnd({id:nodeGraphData.id,x:event.target.x(),y:event.target.y()})},onClick:function onClick(event){event.currentTarget.moveToTop(),sendCommand({type:"SELECT_NODE",id:nodeGraphData.id})}},props.renderNode(props.data)))};prop_types_default.a.func.isRequired,prop_types_default.a.object.isRequired,prop_types_default.a.func,prop_types_default.a.func;Node.defaultProps={onDragMove:function onDragMove(){},onDragEnd:function onDragEnd(){}};var Node_Node=Node;Node.__docgenInfo={description:"",methods:[],displayName:"Node",props:{onDragMove:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Callback function called when the user is actively dragging a node. When called, the function is passed an object\r\nwith the following properties:\r\n- id: The id of the node\r\n- x: The position of the node on the x axis\r\n- y: The position of the node on the y axis"},onDragEnd:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Callback function called when the user is done dragging a node. When called, the function is passed an object with\r\nthe following properties:\r\n- id: The id of the node\r\n- x: The position of the node on the x axis\r\n- y: The position of the node on the y axis"},renderNode:{type:{name:"func"},required:!0,description:"Function defining how to render each individual node. This function is expected to return a React element created\r\nusing react-konva. Data for the node, as well as meta-data for graphing the node, such as positioning, is provided\r\nas a parameter to this function."},data:{type:{name:"object"},required:!0,description:"Object containing data related to the node. This includes the node data as well as positioning data."}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Node\\Node.jsx"]={name:"Node",docgenInfo:Node.__docgenInfo,path:"src\\components\\Node\\Node.jsx"});var Edge=function(props){var yOffset=props.nodeHeight/2,offsetFrom=[props.from[0]+props.nodeWidth,props.from[1]+yOffset],offsetTo=[props.to[0],props.to[1]+yOffset];return react_default.a.createElement(ReactKonva.Line,{points:[].concat(offsetFrom,offsetTo),stroke:"black"})};Edge.displayName="Edge",Edge.defaultProps={};var Edge_Edge=Edge;Edge.__docgenInfo={description:"",methods:[],displayName:"Edge",props:{from:{type:{name:"arrayOf",value:{name:"number"}},required:!0,description:""},to:{type:{name:"arrayOf",value:{name:"number"}},required:!0,description:""},nodeWidth:{type:{name:"number"},required:!0,description:""},nodeHeight:{type:{name:"number"},required:!0,description:""}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\Edge\\Edge.jsx"]={name:"Edge",docgenInfo:Edge.__docgenInfo,path:"src\\components\\Edge\\Edge.jsx"});var AddEdgeInstructions=function(){var machineState=Object(react.useContext)(GraphCoordinator.a).machineState;return react_default.a.createElement(react_default.a.Fragment,null,machineState.matches("addEdge.selectFirstNode")&&react_default.a.createElement(ReactKonva.Text,{absolutePosition:[10,10],fontSize:18,text:"Select the first node"}),machineState.matches("addEdge.selectSecondNode")&&react_default.a.createElement(ReactKonva.Text,{absolutePosition:[10,10],fontSize:18,text:"Select the second node"}))},DeleteEdgeInstructions=function(){var machineState=Object(react.useContext)(GraphCoordinator.a).machineState;return react_default.a.createElement(react_default.a.Fragment,null,machineState.matches("deleteEdge.selectFirstNode")&&react_default.a.createElement(ReactKonva.Text,{absolutePosition:[10,10],fontSize:18,text:"Select the first node"}),machineState.matches("deleteEdge.selectSecondNode")&&react_default.a.createElement(ReactKonva.Text,{absolutePosition:[10,10],fontSize:18,text:"Select the second node"}))},_ref=react_default.a.createElement(AddEdgeInstructions,null),_ref2=react_default.a.createElement(DeleteEdgeInstructions,null),WorkflowInstructions=function(){var machineState=Object(react.useContext)(GraphCoordinator.a).machineState;return machineState?react_default.a.createElement(ReactKonva.Layer,null,machineState.matches("addEdge")&&_ref,machineState.matches("deleteEdge")&&_ref2):null};WorkflowInstructions.displayName="WorkflowInstructions";var WorkflowInstructions_WorkflowInstructions=WorkflowInstructions;function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){Object(defineProperty.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}WorkflowInstructions.__docgenInfo={description:"",methods:[],displayName:"WorkflowInstructions"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\WorkflowInstructions\\WorkflowInstructions.jsx"]={name:"WorkflowInstructions",docgenInfo:WorkflowInstructions.__docgenInfo,path:"src\\components\\WorkflowInstructions\\WorkflowInstructions.jsx"});var isEventFromNode=function(event){return event.target.name().includes("node")},doesEdgeAlreadyMatch=function(edge,node1,node2){return node1===edge.edgeGraphData.from&&node2===edge.edgeGraphData.to||node1===edge.edgeGraphData.to&&node2===edge.edgeGraphData.from},doesNewEdgeNeedToBeAdded=function(edges,fromNodeId,toNodeId){return fromNodeId!==toNodeId&&!edges.some((function(edge){return doesEdgeAlreadyMatch(edge,fromNodeId,toNodeId)}))},updateScaleBy=1.1,NetworkGraph_ref=react_default.a.createElement(WorkflowInstructions_WorkflowInstructions,null);function NetworkGraph(props){var coordinator=Object(react.useContext)(GraphCoordinator.a),machineState=coordinator.machineState,machineService=coordinator.machineService,sendCommand=coordinator.sendCommand,_useState=Object(react.useState)(props.nodes),_useState2=Object(slicedToArray.a)(_useState,2),nodes=_useState2[0],setNodes=_useState2[1],_useState3=Object(react.useState)(props.edges),_useState4=Object(slicedToArray.a)(_useState3,2),edges=_useState4[0],setEdges=_useState4[1],_useState5=Object(react.useState)(1),_useState6=Object(slicedToArray.a)(_useState5,2),scale=_useState6[0],setScale=_useState6[1],_useState7=Object(react.useState)({x:0,y:0}),_useState8=Object(slicedToArray.a)(_useState7,2),position=_useState8[0],setPosition=_useState8[1],onEdgesUpdate=props.onEdgesUpdate,onEdgeAdded=props.onEdgeAdded,onEdgeDeleted=props.onEdgeDeleted;return Object(react.useEffect)((function(){machineService&&machineService.execute(machineState,{addNewEdge:function addNewEdge(){setEdges((function(prevEdges){var _machineState$context=Object(slicedToArray.a)(machineState.context.nodes,2),fromNode=_machineState$context[0],toNode=_machineState$context[1];if(!doesNewEdgeNeedToBeAdded(prevEdges,fromNode,toNode))return sendCommand("NOTIFY_EDGE_NOT_CREATED"),prevEdges;var newEdge={edgeGraphData:{id:v4_default()(),from:fromNode,to:toNode}},updatedEdges=[].concat(Object(toConsumableArray.a)(prevEdges),[newEdge]);return onEdgesUpdate(updatedEdges),onEdgeAdded(newEdge),sendCommand("NOTIFY_EDGE_CREATED"),updatedEdges}))},deleteSelectedEdges:function deleteSelectedEdges(){setEdges((function(prevEdges){var _machineState$context2=Object(slicedToArray.a)(machineState.context.nodes,2),node1=_machineState$context2[0],node2=_machineState$context2[1],indexOfEdgeToRemove=prevEdges.findIndex((function(edge){return doesEdgeAlreadyMatch(edge,node1,node2)}));if(-1===indexOfEdgeToRemove)return sendCommand("NOTIFY_EDGE_NOT_DELETED"),prevEdges;var edgeToRemove=prevEdges.find((function(_,idx){return idx===indexOfEdgeToRemove})),updatedEdges=prevEdges.filter((function(_,idx){return idx!==indexOfEdgeToRemove}));return onEdgesUpdate(updatedEdges),onEdgeDeleted(edgeToRemove),sendCommand("NOTIFY_EDGE_DELETED"),updatedEdges}))}})}),[machineService,machineState,onEdgesUpdate,sendCommand]),react_default.a.createElement(ReactKonva.Stage,{draggable:!0,width:props.width,height:props.height,scale:{x:scale,y:scale},position:position,onWheel:function onWheel(event){event.evt.preventDefault();var newScale=0>event.evt.deltaY?scale*updateScaleBy:scale/updateScaleBy,mousePointerPositionX=event.evt.x,mousePointerPositionY=event.evt.y,newPos={x:-(mousePointerPositionX/scale-position.x/scale-mousePointerPositionX/newScale)*newScale,y:-(mousePointerPositionY/scale-position.y/scale-mousePointerPositionY/newScale)*newScale};setScale(newScale),setPosition(newPos)},onDragEnd:function onDragEnd(event){event.evt.preventDefault(),isEventFromNode(event)||setPosition({x:event.target.attrs.x,y:event.target.attrs.y})}},react_default.a.createElement(GraphCoordinator.a.Provider,{value:coordinator},react_default.a.createElement(ReactKonva.Layer,null,edges.map((function(edge){var fromNode=nodes.find((function(node){return node.nodeGraphData.id===edge.edgeGraphData.from})),toNode=nodes.find((function(node){return node.nodeGraphData.id===edge.edgeGraphData.to}));return react_default.a.createElement(Edge_Edge,{key:edge.edgeGraphData.id,from:[fromNode.nodeGraphData.x,fromNode.nodeGraphData.y],to:[toNode.nodeGraphData.x,toNode.nodeGraphData.y],nodeWidth:props.nodeWidth,nodeHeight:props.nodeHeight})})),nodes.map((function(node){return react_default.a.createElement(Node_Node,{key:node.nodeGraphData.id,renderNode:props.renderNode,data:node,onDragMove:function onDragMove(movingNode){var updatedNodes=nodes.map((function(node){return node.nodeGraphData.id===movingNode.id?_objectSpread({},node,{nodeGraphData:_objectSpread({},node.nodeGraphData,{x:movingNode.x,y:movingNode.y})}):node}));setNodes(updatedNodes)},onDragEnd:props.onNodeDragEnd})}))),NetworkGraph_ref))}NetworkGraph.displayName="NetworkGraph",NetworkGraph.defaultProps={onNodeDragEnd:function onNodeDragEnd(){},onEdgesUpdate:function onEdgesUpdate(){},onEdgeAdded:function onEdgeAdded(){},onEdgeDeleted:function onEdgeDeleted(){}};__webpack_exports__.a=NetworkGraph;NetworkGraph.__docgenInfo={description:"",methods:[],displayName:"NetworkGraph",props:{onNodeDragEnd:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Callback function called when the user is done dragging a node. When called, the function is passed an object with\r\nthe following properties:\r\n- id: The id of the node\r\n- x: The position of the node on the x axis\r\n- y: The position of the node on the y axis"},onEdgesUpdate:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Callback function called when the user has added or deleted an edge. When called, the function is passed the\r\nupdated list of all the edges."},onEdgeAdded:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Callback function called when the user has added an edge. When called, the function is passed an object with the\r\nfollowing properties:\r\n- edgeGraphData: An object containing the following properties:\r\n  - id: A unique identifier for the edge\r\n  - from: The identifier of the node that is the starting point of the edge\r\n  - to: The identifier of the node that is the ending point of the edge"},onEdgeDeleted:{defaultValue:{value:"() => {}",computed:!1},type:{name:"func"},required:!1,description:"Callback function called when the user has delete an edge. When called, the function is passed an object with the\r\nfollowing properties:\r\n- edgeGraphData: An object containing the following properties:\r\n  - id: A unique identifier for the edge\r\n  - from: The identifier of the node that is the starting point of the edge\r\n  - to: The identifier of the node that is the ending point of the edge"},width:{type:{name:"number"},required:!0,description:"The width of the canvas."},height:{type:{name:"number"},required:!0,description:"The height of the canvas."},renderNode:{type:{name:"func"},required:!0,description:"Function defining how to render each individual node. This function is expected to return a React element created\r\nusing react-konva. Data for the node, as well as meta-data for graphing the node, such as positioning, is provided\r\nas a parameter to this function."},nodes:{type:{name:"arrayOf",value:{name:"shape",value:{nodeGraphData:{name:"shape",value:{id:{name:"union",value:[{name:"number"},{name:"string"}],description:"Unique identifier for the node",required:!0},x:{name:"number",description:"The position of the node on the x-axis",required:!1},y:{name:"number",description:"The position of the node on the y-axis",required:!1}},required:!1}}}},required:!0,description:"An array of objects representing the individual nodes to render."},edges:{type:{name:"arrayOf",value:{name:"shape",value:{id:{name:"union",value:[{name:"string"},{name:"number"}],description:"A unique identifier for the edge",required:!1},from:{name:"union",value:[{name:"string"},{name:"number"}],description:"Identifier for the node that defines the starting point of the edge",required:!1},to:{name:"union",value:[{name:"string"},{name:"number"}],description:"Identifier for the node that defines the ending point of the edge",required:!1}}}},required:!0,description:"An array of objects representing the edges that connect nodes to render."},nodeWidth:{type:{name:"number"},required:!0,description:"The width of each node. Used to calculate where to place the connection for the edge."},nodeHeight:{type:{name:"number"},required:!0,description:"The height of each node. Used to calculate where to place the connection for the edge."}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\NetworkGraph\\NetworkGraph.jsx"]={name:"NetworkGraph",docgenInfo:NetworkGraph.__docgenInfo,path:"src\\components\\NetworkGraph\\NetworkGraph.jsx"})},389:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(55),_components_SampleNodeRenderer_SampleNodeRenderer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(99);__webpack_exports__.a=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_1__.c,{width:.9*window.innerWidth,height:150,nodes:[{label:"Node 1",nodeGraphData:{id:1,x:50,y:50}},{label:"Node 2",nodeGraphData:{id:2,x:600,y:50}}],edges:[{edgeGraphData:{id:1,from:1,to:2}}],renderNode:function renderNode(nodeData){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SampleNodeRenderer_SampleNodeRenderer__WEBPACK_IMPORTED_MODULE_2__.a,nodeData)},nodeWidth:300,nodeHeight:50})},394:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(55),_components_SampleNodeRenderer_SampleNodeRenderer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(99);__webpack_exports__.a=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_1__.b,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_1__.d,null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_1__.c,{width:.9*window.innerWidth,height:300,nodes:[{label:"Node 1",nodeGraphData:{id:1,x:50,y:50}},{label:"Node 2",nodeGraphData:{id:2,x:600,y:50}},{label:"Node 3",nodeGraphData:{id:3,x:600,y:150}}],edges:[{edgeGraphData:{id:1,from:1,to:2}}],renderNode:function renderNode(nodeData){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SampleNodeRenderer_SampleNodeRenderer__WEBPACK_IMPORTED_MODULE_2__.a,nodeData)},nodeWidth:300,nodeHeight:50}))},395:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(55);__webpack_require__(99);__webpack_exports__.a=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_1__.b,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_1__.d,null))},396:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_components__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(55),_components_SampleNodeRenderer_SampleNodeRenderer__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(99);__webpack_exports__.a=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_1__.b,null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_1__.a,null,(function(_ref){var mode=_ref.mode,setToAddEdgeMode=_ref.setToAddEdgeMode,setToDeleteEdgeMode=_ref.setToDeleteEdgeMode,escapeCurrentMode=_ref.escapeCurrentMode;return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",null,"Current Mode: ",mode),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:setToAddEdgeMode},"Custom Add Edge Button"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:setToDeleteEdgeMode},"Custom Delete Edge Button"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:escapeCurrentMode},"Custom Escape Button"))})),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components__WEBPACK_IMPORTED_MODULE_1__.c,{width:.9*window.innerWidth,height:300,nodes:[{label:"Node 1",nodeGraphData:{id:1,x:50,y:50}},{label:"Node 2",nodeGraphData:{id:2,x:600,y:50}},{label:"Node 3",nodeGraphData:{id:3,x:600,y:150}}],edges:[{edgeGraphData:{id:1,from:1,to:2}}],renderNode:function renderNode(nodeData){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(_components_SampleNodeRenderer_SampleNodeRenderer__WEBPACK_IMPORTED_MODULE_2__.a,nodeData)},nodeWidth:300,nodeHeight:50,onEdgesUpdate:function onEdgesUpdate(edges){console.log(edges)}})))},397:function(module,exports,__webpack_require__){__webpack_require__(398),__webpack_require__(509),module.exports=__webpack_require__(510)},40:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return GraphCoordinatorContext}));__webpack_require__(27);var _babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(80),_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(186),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),xstate__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(238),xstate__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3),_xstate_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(391),GraphCoordinatorContext=react__WEBPACK_IMPORTED_MODULE_3___default.a.createContext({}),stateMachine=Object(xstate__WEBPACK_IMPORTED_MODULE_4__.a)({id:"workflow",context:{nodes:[]},initial:"view",states:{view:{on:{ADD_EDGE:"addEdge",DELETE_EDGE:"deleteEdge"}},addEdge:{initial:"selectFirstNode",states:{selectFirstNode:{on:{exit:["selectNode"],SELECT_NODE:{target:"selectSecondNode",actions:"selectNode"},ESCAPE:"finalize"}},selectSecondNode:{on:{SELECT_NODE:{target:"createEdge",actions:["selectNode","addNewEdge"]},ESCAPE:"finalize"}},createEdge:{on:{NOTIFY_EDGE_CREATED:"finalize",NOTIFY_EDGE_NOT_CREATED:"finalize"}},finalize:{type:"final"}},onDone:{target:"view",actions:"clearNodes"}},deleteEdge:{initial:"selectFirstNode",states:{selectFirstNode:{on:{exit:["selectNode"],SELECT_NODE:{target:"selectSecondNode",actions:"selectNode"},ESCAPE:"finalize"}},selectSecondNode:{on:{SELECT_NODE:{target:"deleteEdge",actions:["selectNode","deleteSelectedEdges"]},ESCAPE:"finalize"}},deleteEdge:{on:{NOTIFY_EDGE_DELETED:"finalize",NOTIFY_EDGE_NOT_DELETED:"finalize"}},finalize:{type:"final"}},onDone:{target:"view",actions:"clearNodes"}}}},{actions:{selectNode:Object(xstate__WEBPACK_IMPORTED_MODULE_5__.b)({nodes:function nodes(context,event){return[].concat(Object(_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_2__.a)(context.nodes),[event.id])}}),clearNodes:Object(xstate__WEBPACK_IMPORTED_MODULE_5__.b)({nodes:function nodes(){return[]}})}}),GraphCoordinator=function(props){var _useMachine=Object(_xstate_react__WEBPACK_IMPORTED_MODULE_6__.useMachine)(stateMachine),_useMachine2=Object(_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useMachine,3),machineState=_useMachine2[0],sendCommand=_useMachine2[1],machineService=_useMachine2[2];return react__WEBPACK_IMPORTED_MODULE_3___default.a.createElement(GraphCoordinatorContext.Provider,{value:{machineState:machineState,sendCommand:sendCommand,machineService:machineService}},props.children)};GraphCoordinator.displayName="GraphCoordinator",__webpack_exports__.b=GraphCoordinator,GraphCoordinator.__docgenInfo={description:"",methods:[],displayName:"GraphCoordinator",props:{children:{type:{name:"node"},required:!0,description:"Components to render inside of the GraphCoordinator."}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\GraphCoordinator\\GraphCoordinator.jsx"]={name:"GraphCoordinator",docgenInfo:GraphCoordinator.__docgenInfo,path:"src\\components\\GraphCoordinator\\GraphCoordinator.jsx"})},419:function(module,exports){},510:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(137),_storybook_addon_info__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(383);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.addDecorator)(_storybook_addon_info__WEBPACK_IMPORTED_MODULE_1__.withInfo),Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loadStories(){__webpack_require__(845)}),module)}.call(this,__webpack_require__(282)(module))},55:function(module,__webpack_exports__,__webpack_require__){"use strict";var NetworkGraph=__webpack_require__(181),react=__webpack_require__(0),react_default=__webpack_require__.n(react),GraphCoordinator=__webpack_require__(40),AddEdgeButton=function(){var coordinator=Object(react.useContext)(GraphCoordinator.a),machineState=coordinator.machineState,sendCommand=coordinator.sendCommand;return react_default.a.createElement("button",{onClick:function onClick(){machineState.matches("addEdge")?sendCommand("ESCAPE"):sendCommand("ADD_EDGE")}},machineState.matches("addEdge")?'Escape "Add Edge Mode"':"Add Edge")};AddEdgeButton.displayName="AddEdgeButton";var WorkflowControls_AddEdgeButton=AddEdgeButton;AddEdgeButton.__docgenInfo={description:"",methods:[],displayName:"AddEdgeButton"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\WorkflowControls\\AddEdgeButton.jsx"]={name:"AddEdgeButton",docgenInfo:AddEdgeButton.__docgenInfo,path:"src\\components\\WorkflowControls\\AddEdgeButton.jsx"});var DeleteEdgeButton=function(){var coordinator=Object(react.useContext)(GraphCoordinator.a),machineState=coordinator.machineState,sendCommand=coordinator.sendCommand;return react_default.a.createElement("button",{onClick:function onClick(){machineState.matches("deleteEdge")?sendCommand("ESCAPE"):sendCommand("DELETE_EDGE")}},machineState.matches("deleteEdge")?'Escape "Delete Edge Mode"':"Delete Edge")};DeleteEdgeButton.displayName="DeleteEdgeButton";var WorkflowControls_DeleteEdgeButton=DeleteEdgeButton;DeleteEdgeButton.__docgenInfo={description:"",methods:[],displayName:"DeleteEdgeButton"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\WorkflowControls\\DeleteEdgeButton.jsx"]={name:"DeleteEdgeButton",docgenInfo:DeleteEdgeButton.__docgenInfo,path:"src\\components\\WorkflowControls\\DeleteEdgeButton.jsx"});var _ref=react_default.a.createElement(WorkflowControls_AddEdgeButton,null),_ref2=react_default.a.createElement(WorkflowControls_DeleteEdgeButton,null),WorkflowControls=function(){return react_default.a.createElement("div",{style:{width:"100%",height:30}},_ref,_ref2)};WorkflowControls.displayName="WorkflowControls";var WorkflowControls_WorkflowControls=WorkflowControls;WorkflowControls.__docgenInfo={description:"",methods:[],displayName:"WorkflowControls"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\WorkflowControls\\WorkflowControls.jsx"]={name:"WorkflowControls",docgenInfo:WorkflowControls.__docgenInfo,path:"src\\components\\WorkflowControls\\WorkflowControls.jsx"});var CustomWorkflowControlsWrapper=__webpack_require__(180);__webpack_require__.d(__webpack_exports__,"c",(function(){return NetworkGraph.a})),__webpack_require__.d(__webpack_exports__,"d",(function(){return WorkflowControls_WorkflowControls})),__webpack_require__.d(__webpack_exports__,"b",(function(){return GraphCoordinator.b})),__webpack_require__.d(__webpack_exports__,"a",(function(){return CustomWorkflowControlsWrapper.a}))},700:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":338,"./nestedObjectAssign.js":338};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=700},845:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){__webpack_require__(4),__webpack_require__(83),__webpack_require__(32),__webpack_require__(54),__webpack_require__(2),__webpack_require__(44),__webpack_require__(368),__webpack_require__(5),__webpack_require__(33);var _babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(185),_storybook_react__WEBPACK_IMPORTED_MODULE_11__=(__webpack_require__(0),__webpack_require__(137)),_NetworkGraphComponent__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(389),_components_NetworkGraph_NetworkGraph__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(181),_GraphCoordinatorComponent__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(394),_components_GraphCoordinator_GraphCoordinator__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(40),_WorkflowControlsComponent__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(395),_CustomWorkflowControlsWrapperComponent__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(396),_components_CustomWorkflowControlsWrapper_CustomWorkflowControlsWrapper__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(180);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var source,i=1;i<arguments.length;i++)source=null==arguments[i]?{}:arguments[i],i%2?ownKeys(source,!0).forEach((function(key){Object(_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_9__.a)(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}));return target}var componentInfoOptions_info={inline:!0,source:!0},getComponentInfoOptions=function(overrides){var _overrides$propTables=overrides.propTables,propTables=void 0===_overrides$propTables?[]:_overrides$propTables,_overrides$text=overrides.text;return{info:_objectSpread({},componentInfoOptions_info,{propTables:propTables,text:void 0===_overrides$text?void 0:_overrides$text})}};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_11__.storiesOf)("Components",module).add("Network Graph",(function(){return _NetworkGraphComponent__WEBPACK_IMPORTED_MODULE_12__.a}),getComponentInfoOptions({propTables:[_components_NetworkGraph_NetworkGraph__WEBPACK_IMPORTED_MODULE_13__.a],text:"Basic view-only version of the network graph"})).add("Graph Coordinator",(function(){return _GraphCoordinatorComponent__WEBPACK_IMPORTED_MODULE_14__.a}),getComponentInfoOptions({propTables:[_components_GraphCoordinator_GraphCoordinator__WEBPACK_IMPORTED_MODULE_15__.b],text:"Wrapper component that manages the state for adding edges between nodes. Generally, this component will be rendered with the default WorkflowControls or a custom one created using CustomWorkflowControlsWrapper along with the NetworkGraph itself"})).add("Workflow Controls",(function(){return _WorkflowControlsComponent__WEBPACK_IMPORTED_MODULE_16__.a}),getComponentInfoOptions({propTables:!1,text:"Basic version of some controls that allow for adding edges between nodes"})).add("CustomWorkflowControlsWrapper",(function(){return _CustomWorkflowControlsWrapperComponent__WEBPACK_IMPORTED_MODULE_17__.a}),getComponentInfoOptions({propTables:[_components_CustomWorkflowControlsWrapper_CustomWorkflowControlsWrapper__WEBPACK_IMPORTED_MODULE_18__.a],text:"Component that provides a render prop for creating a custom UI for managing the state of the NetworkGraph"}))}.call(this,__webpack_require__(282)(module))},99:function(module,__webpack_exports__,__webpack_require__){"use strict";var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),react_konva__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(45),_ref=react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__.Rect,{width:300,height:50,fill:"#fff",shadowColor:"#636f74",shadowBlur:3,cornerRadius:5}),SampleNodeRenderer=function(props){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__.Group,null,_ref,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(react_konva__WEBPACK_IMPORTED_MODULE_1__.Text,{text:props.label,x:20,y:15}))};SampleNodeRenderer.displayName="SampleNodeRenderer",__webpack_exports__.a=SampleNodeRenderer,SampleNodeRenderer.__docgenInfo={description:"",methods:[],displayName:"SampleNodeRenderer"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src\\components\\SampleNodeRenderer\\SampleNodeRenderer.jsx"]={name:"SampleNodeRenderer",docgenInfo:SampleNodeRenderer.__docgenInfo,path:"src\\components\\SampleNodeRenderer\\SampleNodeRenderer.jsx"})}},[[397,1,2]]]);
//# sourceMappingURL=main.c74c994338d2a1ca56b0.bundle.js.map